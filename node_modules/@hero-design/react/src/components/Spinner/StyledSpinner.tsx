import styled, { keyframes, css } from 'styled-components';

const spinning = keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`;

const SpinnerWrapper = styled.div<{
  themeSize: 'small' | 'medium' | 'large';
}>`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0;
  padding: 0;

  color: ${({ theme }) => theme.__hd__.spinner.colors.default};

  ${({ themeSize, theme }) => {
    switch (themeSize) {
      case 'small':
        return css`
          font-size: ${theme.__hd__.spinner.fontSizes.small};
        `;
      case 'medium':
        return css`
          font-size: ${theme.__hd__.spinner.fontSizes.medium};
        `;
      case 'large':
        return css`
          font-size: ${theme.__hd__.spinner.fontSizes.large};
        `;
    }
  }};
`;

const ContentWrapper = styled.div<{ themeLoading: boolean }>`
  position: relative;
  margin: 0;
  padding: 0;

  ${({ themeLoading }) => {
    switch (themeLoading) {
      case true:
        return css`
          opacity: 0.3;
          pointer-events: none;
        `;
      case false:
        return css`
          opacity: 1;
          pointer-events: auto;
        `;
    }
  }};
`;

const SpinnerContainer = styled.div<{
  themeSize: 'small' | 'medium' | 'large';
}>`
  position: relative;
  margin: 0;
  padding: 0;

  & > ${SpinnerWrapper} {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }

  ${({ themeSize, theme }) => {
    switch (themeSize) {
      case 'small':
        return css`
          min-height: ${theme.__hd__.spinner.sizes.smallContainer};
        `;
      case 'medium':
        return css`
          min-height: ${theme.__hd__.spinner.sizes.mediumContainer};
        `;
      case 'large':
        return css`
          min-height: ${theme.__hd__.spinner.sizes.largeContainer};
        `;
    }
  }};
`;

const StyledSpinner = styled.div<{
  themeSize: 'small' | 'medium' | 'large';
}>`
  animation: ${spinning} 1s infinite linear;
  background: transparent;
  border-radius: 50%;
  padding: 0;

  ${({ themeSize, theme }) => {
    switch (themeSize) {
      case 'small':
        return css`
          height: ${theme.__hd__.spinner.sizes.small};
          width: ${theme.__hd__.spinner.sizes.small};
          box-shadow: ${theme.__hd__.spinner.shadows.small};
          margin: ${theme.__hd__.spinner.space.smallMargin};
        `;
      case 'medium':
        return css`
          height: ${theme.__hd__.spinner.sizes.medium};
          width: ${theme.__hd__.spinner.sizes.medium};
          box-shadow: ${theme.__hd__.spinner.shadows.medium};
          margin: ${theme.__hd__.spinner.space.mediumMargin};
        `;
      case 'large':
        return css`
          height: ${theme.__hd__.spinner.sizes.large};
          width: ${theme.__hd__.spinner.sizes.large};
          box-shadow: ${theme.__hd__.spinner.shadows.large};
          margin: ${theme.__hd__.spinner.space.largeMargin};
        `;
    }
  }};
`;

export { SpinnerWrapper, ContentWrapper, SpinnerContainer, StyledSpinner };

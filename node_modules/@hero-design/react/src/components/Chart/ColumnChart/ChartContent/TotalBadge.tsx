import React, { memo } from 'react';
import { useTheme } from 'styled-components';
import { CommonProps } from '../../../common';

interface TotalBadgeProps extends CommonProps {
  content: string;
  x: number;
  y: number;
  width: number;
}

const TotalBadge = ({
  className,
  x,
  y,
  width,
  content,
  'data-test-id': dataTestId,
}: TotalBadgeProps) => {
  const theme = useTheme();

  const {
    __hd__: { columnChart: columnChartTheme },
  } = theme;
  const { totalSvgHeight } = columnChartTheme.sizes;

  const { totalRect } = columnChartTheme.radii;

  const { totalRect: totalRectBorderWidth } = columnChartTheme.borderWidth;

  const { totalText: totalTextFontSize } = columnChartTheme.fontSizes;
  const { totalText: totalTextFontWeight } = columnChartTheme.fontWeights;

  const { gridLineBackgroundColor, totalBackgroundColor } =
    columnChartTheme.colors;

  return (
    <svg
      className={className}
      x={x}
      y={y}
      width={width}
      height={totalSvgHeight}
      data-test-id={dataTestId}
    >
      <rect
        x={1}
        y={1}
        width={width - totalRectBorderWidth * 2}
        height={totalSvgHeight - totalRectBorderWidth * 2}
        fill={totalBackgroundColor}
        strokeWidth={totalRectBorderWidth}
        stroke={gridLineBackgroundColor}
        rx={totalRect}
        ry={totalRect}
      />
      <text
        x="50%"
        y="50%"
        textAnchor="middle"
        alignmentBaseline="middle"
        fontSize={totalTextFontSize}
        fontWeight={totalTextFontWeight}
      >
        {content}
      </text>
    </svg>
  );
};

export default memo(TotalBadge);

import React, { forwardRef } from 'react';
import type { ReactElement, ReactNode } from 'react';
import { useCss } from '../../utils/hooks';

import { StyledMenu } from './StyledMenu';
import type { CommonProps } from '../common';

export interface MenuProps extends CommonProps {
  /**
   * List of items in menu.
   */
  children: ReactNode;
}

const Menu = forwardRef<HTMLUListElement, MenuProps>(
  (
    {
      children,
      id,
      className,
      style,
      sx = {},
      'data-test-id': dataTestId,
      ...otherUlAttrs
    }: MenuProps,
    forwardedRef
  ): ReactElement => (
    <StyledMenu
      {...otherUlAttrs}
      ref={forwardedRef}
      id={id}
      className={className}
      style={{ ...style, ...useCss(sx) }}
      data-test-id={dataTestId}
    >
      {children}
    </StyledMenu>
  )
);

Menu.displayName = 'Menu';

export default Menu;

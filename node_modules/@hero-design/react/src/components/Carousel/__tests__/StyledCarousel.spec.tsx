import React from 'react';

import renderWithTheme from '../../../testUtils/renderWithTheme';
import theme from '../../../theme';

import {
  StyledButtonWrapper,
  StyledButtonList,
  StyledButton,
  CarouselSlideCollection,
  StyledButtonIconWrapper,
  CarouselContainer,
} from '../StyledCarousel';

describe('CarouselContainer', () => {
  it('has no padding when in single slide mode', () => {
    const { container } = renderWithTheme(
      <CarouselContainer themeDotPlacement="top" themeIsSingleSlideCarousel />
    );

    expect(container.firstChild).toHaveStyle('padding: 0;');
  });

  it('has padding when in multiple slide mode with navigation buttons on the top', () => {
    const { container } = renderWithTheme(
      <CarouselContainer
        themeDotPlacement="top"
        themeIsSingleSlideCarousel={false}
      />
    );

    expect(container.firstChild).toHaveStyle(
      `padding: ${theme.__hd__.carousel.space.containerHorizontalPadding} ${theme.__hd__.carousel.space.containerVerticalPadding} 0px`
    );
  });

  it('has padding when in multiple slide mode with navigation buttons on the bottom', () => {
    const { container } = renderWithTheme(
      <CarouselContainer
        themeDotPlacement="bottom"
        themeIsSingleSlideCarousel={false}
      />
    );

    expect(container.firstChild).toHaveStyle(
      `padding: 0px ${theme.__hd__.carousel.space.containerVerticalPadding} ${theme.__hd__.carousel.space.containerHorizontalPadding}`
    );
  });
});

describe('StyledButtonWrapper', () => {
  it('has row style', () => {
    const { container } = renderWithTheme(
      <StyledButtonWrapper
        themeDotDirection="row"
        themeDotPlacement="top"
        themeIsSingleSlideCarousel={false}
      />
    );

    expect(container.firstChild).toMatchSnapshot();
  });

  it('has column style', () => {
    const { container } = renderWithTheme(
      <StyledButtonWrapper
        themeDotDirection="column"
        themeDotPlacement="right"
        themeIsSingleSlideCarousel={false}
      />
    );

    expect(container.firstChild).toMatchSnapshot();
  });

  it.each`
    placement   | direction   | isSingleSlide
    ${'top'}    | ${'row'}    | ${true}
    ${'bottom'} | ${'row'}    | ${true}
    ${'top'}    | ${'row'}    | ${false}
    ${'bottom'} | ${'row'}    | ${false}
    ${'left'}   | ${'column'} | ${true}
    ${'right'}  | ${'column'} | ${true}
  `(
    'has $placement style when single slide is $isSingleSlide',
    ({ placement, direction, isSingleSlide }) => {
      const { container } = renderWithTheme(
        <StyledButtonWrapper
          themeDotDirection={direction}
          themeDotPlacement={placement}
          themeIsSingleSlideCarousel={isSingleSlide}
        />
      );

      expect(container.firstChild).toMatchSnapshot();
    }
  );
});

describe('StyledButtonList', () => {
  it.each`
    state
    ${'activeRow'}
    ${'defaultRow'}
    ${'activeColumn'}
    ${'defaultColumn'}
  `('has $state style', ({ state }) => {
    const { container } = renderWithTheme(
      <StyledButtonList themeDotState={state} />
    );

    expect(container.firstChild).toMatchSnapshot();
  });
});

describe('StyledButton', () => {
  it.each`
    description   | active   | direction   | variant
    ${'active'}   | ${true}  | ${'row'}    | ${'light'}
    ${'inactive'} | ${false} | ${'row'}    | ${'light'}
    ${'row'}      | ${true}  | ${'row'}    | ${'light'}
    ${'column'}   | ${true}  | ${'column'} | ${'light'}
    ${'light'}    | ${true}  | ${'row'}    | ${'light'}
    ${'dark'}     | ${true}  | ${'row'}    | ${'dark'}
  `('has $description style', ({ active, direction, variant }) => {
    const { container } = renderWithTheme(
      <StyledButton
        active={active}
        themeDotDirection={direction}
        themeVariant={variant}
      />
    );

    expect(container.firstChild).toMatchSnapshot();
  });
});

describe('CarouselSlideCollection', () => {
  it.each`
    currentSlide | direction
    ${1}         | ${'row'}
    ${1}         | ${'column'}
  `('has $direction style', ({ currentSlide, direction }) => {
    const { container } = renderWithTheme(
      <CarouselSlideCollection
        currentSlide={currentSlide}
        themeDotDirection={direction}
        themeSlideWidth={100}
      />
    );

    expect(container.firstChild).toMatchSnapshot();
  });
});

describe('StyledButtonIconWrapper', () => {
  it.each`
    description      | placement        | variant    | isSingleSlide
    ${'middleRow'}   | ${'middleRow'}   | ${'light'} | ${true}
    ${'leftColumn'}  | ${'leftColumn'}  | ${'light'} | ${false}
    ${'rightColumn'} | ${'rightColumn'} | ${'light'} | ${false}
    ${'light'}       | ${'middleRow'}   | ${'light'} | ${false}
    ${'dark'}        | ${'middleRow'}   | ${'dark'}  | ${false}
  `('has $description style', ({ placement, variant, isSingleSlide }) => {
    const { container } = renderWithTheme(
      <StyledButtonIconWrapper
        themeButtonPlacement={placement}
        themeVariant={variant}
        themeIsSingleSlideCarousel={isSingleSlide}
      />
    );

    expect(container.firstChild).toMatchSnapshot();
  });
});

import { generateFortnightlyTime } from '../utils';

describe('generateFortnightlyTime', () => {
  const testCases = [
    {
      minDate: new Date('2021-01-01'),
      maxDate: new Date('2021-01-31'),
      customFormat: 'dd MMM yyyy',
      expected: ['03 Jan 2021', '17 Jan 2021'],
    },
    {
      minDate: new Date('2021-02-01'),
      maxDate: new Date('2021-02-28'),
      customFormat: 'dd MMM yyyy',
      weekStartsOn: 1 as const,
      expected: ['01 Feb 2021', '15 Feb 2021'],
    },
  ];
  it.each(testCases)(
    // eslint-disable-next-line no-template-curly-in-string
    'should generate the correct fornightly time for minDate ${minDate}, maxDate ${maxDate} and customFormat ${customFormat}',
    ({ minDate, maxDate, customFormat, expected, weekStartsOn }) => {
      const result = generateFortnightlyTime(
        minDate,
        maxDate,
        customFormat,
        weekStartsOn
      );
      expect(result).toEqual(expected);
    }
  );
});

import React, { ReactNode } from 'react';
import type { ReactElement } from 'react';
import { useCss } from '../../utils/hooks';

import { StyledCardContent } from './StyledCard';
import CardContext from './CardContext';
import type { CommonProps } from '../common';
import type { CardContextType } from './CardContext';

export interface CardContentProps extends CommonProps {
  /**
   * Custom content.
   */
  children?: ReactNode;
  /**
   * Short hand for Card's content.
   */
  content?: ReactNode;
  /**
   * Format as extra content.
   */
  extra?: boolean;
}

const CardContent = ({
  content,
  extra = false,
  children,
  id,
  className,
  style,
  sx = {},
  'data-test-id': dataTestId,
}: CardContentProps): ReactElement => {
  const variant = extra === true ? 'extra' : 'mainContent';
  const { size } = React.useContext(CardContext) as CardContextType;

  return (
    <StyledCardContent
      themeSize={size}
      themeVariant={variant}
      id={id}
      className={className}
      style={{ ...style, ...useCss(sx) }}
      data-test-id={dataTestId}
    >
      {children !== undefined ? children : content}
    </StyledCardContent>
  );
};

export default CardContent;

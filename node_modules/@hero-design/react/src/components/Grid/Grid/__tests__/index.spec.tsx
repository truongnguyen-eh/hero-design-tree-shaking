import React from 'react';

import theme from '../../../../theme';
import Grid from '..';
import Row from '../../Row';
import renderWithTheme from '../../../../testUtils/renderWithTheme';

describe('Grid', () => {
  it('renders with id and contains the children', () => {
    const { getByText, getByTestId } = renderWithTheme(
      <Grid data-test-id="grid">Grid content</Grid>
    );

    expect(getByTestId('grid')).toBeInTheDocument();
    expect(getByText('Grid content')).toBeInTheDocument();
  });

  it('renders with gutter', () => {
    const { getByTestId } = renderWithTheme(
      <Grid data-test-id="grid" gutter="xsmall">
        <Row data-test-id="row">Content</Row>
      </Grid>
    );

    expect(getByTestId('grid')).toHaveStyle(
      `
        margin-top: -${theme.space.xsmall / 2}px;
        margin-bottom: -${theme.space.xsmall / 2}px;
      `
    );

    expect(getByTestId('row')).toHaveStyle(
      `
        padding-top: ${theme.space.xsmall / 2}px;
        padding-bottom: ${theme.space.xsmall / 2}px;
      `
    );
  });
});

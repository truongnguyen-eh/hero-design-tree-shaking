import React from 'react';

import { theme } from '../../..';
import renderWithTheme from '../../../testUtils/renderWithTheme';

import ProgressCircle, { mapStrokeWidthFromSize } from '../ProgressCircle';

describe('mapStrokeWidthFromSize', () => {
  const { circleSmallStroke, circleMediumStroke } = theme.__hd__.progress.sizes;

  it.each`
    size        | expectedStrokeWidth
    ${'small'}  | ${circleSmallStroke}
    ${'medium'} | ${circleMediumStroke}
  `(
    'returns $expectedColor color from $intent intent',
    ({ size, expectedStrokeWidth }) => {
      expect(mapStrokeWidthFromSize(size, theme)).toBe(expectedStrokeWidth);
    }
  );
});

describe('ProgressCircle', () => {
  it('allows to custom value rendering', () => {
    const { getByText } = renderWithTheme(
      <ProgressCircle
        value={50}
        valueRenderer={(value) => <span>{value * 2}</span>}
        intent="primary"
        status="active"
        withInfo
        size="small"
      />
    );

    expect(getByText('100')).toBeInTheDocument();
  });
});

import { defaultScale, getGlobalTheme, omopSystemPalette } from './global';

import getTheme from './getTheme';
import { getButtonTheme } from './components/omop/button';
import { getEmptyTheme } from './components/omop/empty';
import { getProgressTheme } from './components/omop/progress';

import type { Theme } from './types';

const getOMOPTheme = (
  scale = defaultScale,
  systemPalette = omopSystemPalette
): Theme => {
  const globalTheme = getGlobalTheme(scale, systemPalette);
  const defaultTheme = getTheme(scale, systemPalette);
  return {
    ...defaultTheme,
    __hd__: {
      ...defaultTheme.__hd__,
      button: getButtonTheme(globalTheme),
      empty: getEmptyTheme(globalTheme),
      progress: getProgressTheme(globalTheme),
    },
  };
};

export default getOMOPTheme;

import React from 'react';
import { ThemeProvider } from 'styled-components';
// eslint-disable-next-line import/no-extraneous-dependencies
import {
  renderHook,
  RenderHookOptions,
  WrapperComponent,
} from '@testing-library/react-hooks';

import theme from '../theme';

const renderHookWithTheme = <TProps, TResult>(
  callback: (props: TProps) => TResult,
  options?: RenderHookOptions<TProps>
) => {
  const wrapper: WrapperComponent<TProps> = ({ children }) => (
    <ThemeProvider theme={theme}>{children}</ThemeProvider>
  );
  const renderResult = renderHook(callback, {
    wrapper,
    ...options,
  });

  return renderResult;
};

export default renderHookWithTheme;
